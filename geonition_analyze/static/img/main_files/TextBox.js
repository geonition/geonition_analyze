/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[esri._dojoScopeName||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.form.TextBox"],["require","dijit.form._FormWidget"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.form.TextBox"]){_4._hasResource["dijit.form.TextBox"]=true;_4.provide("dijit.form.TextBox");_4.require("dijit.form._FormWidget");_4.declare("dijit.form.TextBox",_5.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:_4.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" waiRole=\"presentation\"\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:_4.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:_4.delegate(_5.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var _7=this.type.toLowerCase();if(this.templateString.toLowerCase()=="input"||((_7=="hidden"||_7=="file")&&this.templateString==_5.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this.placeHolder=v;if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_4.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_8,_9,_a){var _b;if(_8!==undefined){_b=this.filter(_8);if(typeof _a!="string"){if(_b!==null&&((typeof _b!="number")||!isNaN(_b))){_a=this.filter(this.format(_b,this.constraints));}else{_a="";}}}if(_a!=null&&_a!=undefined&&((typeof _a)!="number"||!isNaN(_a))&&this.textbox.value!=_a){this.textbox.value=_a;}this._updatePlaceHolder();this.inherited(arguments,[_b,_9]);},displayedValue:"",getDisplayedValue:function(){_4.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_c){_4.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_c);},_setDisplayedValueAttr:function(_d){if(_d===null||_d===undefined){_d="";}else{if(typeof _d!="string"){_d=String(_d);}}this.textbox.value=_d;this._setValueAttr(this.get("value"),undefined,_d);},format:function(_e,_f){return ((_e==null||_e==undefined)?"":(_e.toString?_e.toString():_e));},parse:function(_10,_11){return _10;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case _4.keys.SHIFT:case _4.keys.ALT:case _4.keys.CTRL:case _4.keys.TAB:return;}}if(this.intermediateChanges){var _12=this;setTimeout(function(){_12._handleOnChange(_12.get("value"),false);},0);}this._refreshState();},postCreate:function(){if(_4.isIE){var s=_4.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _13=this.domNode.getElementsByTagName("INPUT");if(_13){for(var i=0;i<_13.length;i++){_13[i].style.fontFamily=ff;}}}}}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(_4.isMoz||_4.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=_4.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(_14){return _14.substring(0,1).toUpperCase()+_14.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&_4.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _15;if(_4.isIE){var _16=_4.doc.selection.createRange();var _17=_16.parentElement();_15=_17==this.textbox&&_16.text.length==0;}else{_15=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_15){_5.selectInputText(this.textbox);}});}this._updatePlaceHolder();this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});_5.selectInputText=function(_18,_19,_1a){var _1b=_4.global;var _1c=_4.doc;_18=_4.byId(_18);if(isNaN(_19)){_19=0;}if(isNaN(_1a)){_1a=_18.value?_18.value.length:0;}_5.focus(_18);if(_1c["selection"]&&_4.body()["createTextRange"]){if(_18.createTextRange){var _1d=_18.createTextRange();with(_1d){collapse(true);moveStart("character",-99999);moveStart("character",_19);moveEnd("character",_1a-_19);select();}}}else{if(_1b["getSelection"]){if(_18.setSelectionRange){_18.setSelectionRange(_19,_1a);}}}};}}};});